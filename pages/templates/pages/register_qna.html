{% extends 'pages/base.html' %}
{% load static %}
{% block title %}ë¬¸ì˜{% endblock %}

{% block content %}

<div class="page-title">
  <div style="display: flex; align-items: center;">
    <div class="gradient-bar"></div>
    <div>ë¬¸ì˜</div>
  </div>
</div>
<style>
.qna-container {
    display: flex;
    gap: 40px;
    max-width: 1000px;
    margin: 30px auto;
}

.qna-left, .qna-right {
    flex: 1;
}

.qna-left-box {
    border: 1px solid #d8dfeb;
    padding: 20px;
    border-radius: 10px;
    background: #000000;
    line-height: 1.8;
    font-size: 15px;
    height: 350px;
    color : #ffffff;
}

.contact-hr {
    border: 0;
    border-top: 1px solid #ffffff55; /* ë°˜íˆ¬ëª… í°ìƒ‰ */
    margin: 12px 0;
}

</style>

<div class="qna-container">

  <!-- ì¢Œì¸¡ ì˜ì—­ -->
  <div class="qna-left">
      <div class = "qna-left-box">
        <div>ì „í™”</div>
        <div>010-4255-7999</div><br>
        <hr class="contact-hr">
        <div>ì´ë©”ì¼</div>
        <div>sales@rootel.kr</div><br>
        <hr class="contact-hr">
        <div>ì£¼ì†Œ</div>
        <div>ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ë…¼í˜„ë¡œ 80 3ì¸µ</div>
      </div>
  </div>

  <!-- ìš°ì¸¡ ì˜ì—­ -->
  <div class="qna-right">
    <form method="POST" action="{% url 'register_qna_submit' %}">
      {% csrf_token %}
      <div class = "form-group-left" style="margin-bottom: 20px;">
        <!-- <label>ì´ë¦„</label> -->
        <input type="text" id="name" name="name" placeholder="ì´ë¦„" style="height: 50px;">
      </div>

      <div class = "form-group-left" style="margin-bottom: 20px;">
        <!-- <labe>ì´ë©”ì¼</label> -->
        <input type="text" id="email" name="email" placeholder="ì´ë©”ì¼" style="height: 50px;">
      </div>

      <div class = "form-group-left" style="margin-bottom: 20px;">
        <!-- <label>ì œëª©</label> -->
        <input type="text" id="title" name="title" placeholder="ì œëª©" style="height: 50px;">
      </div>

      <div class = "form-group-left" style="margin-bottom: 20px;">
        <!-- <label>ë©”ì„¸ì§€</label> -->
        <textarea style="resize: none;" name="message" id="message" rows="11" placeholder="ë©”ì„¸ì§€"></textarea>
      </div>

      <div style="text-align:center;">
        <button type="submit" class="btn btn-primary">ë©”ì„¸ì§€ ë³´ë‚´ê¸°</button>
      </div>

    </form>
  </div>

</div>

<script>
document.querySelector("form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const formData = new FormData(this);
    const res = await fetch("{% url 'register_qna_submit' %}", {
        method: "POST",
        credentials: "include",   // ğŸ‘ˆ ì—¬ê¸°
        body: formData,
        headers: {
            "X-CSRFToken": "{{ csrf_token }}"
        }
    });

    const data = await res.json();  // JSONìœ¼ë¡œ íŒŒì‹±
    alert(data.message);            // í•œê¸€ì´ ì •ìƒìœ¼ë¡œ í‘œì‹œë¨
});
</script>



{% endblock %}
